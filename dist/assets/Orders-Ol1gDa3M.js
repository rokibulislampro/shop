import{r as o,k as b,u as f,j as e,ah as N,ai as w,aj as D,am as C,ak as v,B as u}from"./index-B5pvZNP2.js";/* empty css               */const E=()=>{const[c,n]=o.useState([]),[r,x]=o.useState(""),l=b(),h=f();o.useEffect(()=>{(async()=>{try{const m=(await l.get("/order")).data.reverse().map(t=>{const j=t.orderDetails.products.reduce((g,y)=>g+y.quantity,0);return{_id:t._id,orderId:t.orderId,trackingId:t.trackingId,date:t.orderDetails.date,time:t.orderDetails.time,updateDate:t.orderDetails.updateDate,name:t.billingDetails.fullName,orders:t.orderDetails.products.length,totalQuantity:j,amountSpent:t.orderDetails.total,grandTotal:t.orderDetails.grandTotal,status:t.orderDetails.status,billingDetails:t.billingDetails,orderDetails:t.orderDetails}});n(m)}catch(a){console.error("Error fetching Orders:",a)}})()},[l]);const p=async s=>{try{await l.delete(`/order/${s}`),n(c.filter(a=>a._id!==s)),u.success("Order deleted successfully!",{autoClose:3e3})}catch(a){u.error("Failed to delete the order.",{autoClose:3e3}),console.error("Error deleting order:",a)}};function d(s){switch(s){case"Delivered":return{color:"#32CD32",backgroundColor:"rgba(50, 205, 50, 0.1)"};case"Pending":return{color:"orange",backgroundColor:"rgba(255, 165, 0, 0.1)"};case"blue":return{color:"blue",backgroundColor:"rgba(0, 0, 255, 0.1)"};case"Canceled":return{color:"red",backgroundColor:"rgba(255, 0, 0, 0.1)"};default:return{color:"blue",backgroundColor:"rgba(0, 0, 255, 0.1)"}}}const i=c.filter(s=>s.name.toLowerCase().includes(r.toLowerCase())||s.status.toLowerCase().includes(r.toLowerCase())||s.orderId.toString().includes(r));return e.jsxs("section",{className:"container mx-auto px-[0.5rem] py-6 text-sm",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"absolute left-3 top-3 text-gray-400",children:e.jsx(N,{})}),e.jsx("input",{type:"text",placeholder:"Search order id or customer name",className:"border bg-white p-2 pl-10 pr-10 rounded-full w-full border-slate-300",value:r,onChange:s=>x(s.target.value)}),e.jsxs("div",{className:"absolute right-3 top-3 flex items-center text-sm text-gray-400",children:[e.jsx(w,{className:"mr-1"}),e.jsx(D,{})]})]}),e.jsx("div",{className:"overflow-x-auto w-full",children:e.jsxs("table",{className:"table-auto w-full text-left whitespace-no-wrap",children:[e.jsx("thead",{className:"bg-slate-100 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2",children:"Orders Id"}),e.jsx("th",{className:"px-3 py-2",children:"Date"}),e.jsx("th",{className:"px-3 py-2",children:"Customers"}),e.jsx("th",{className:"px-3 py-2",children:"Orders"}),e.jsx("th",{className:"px-3 py-2",children:"Amount"}),e.jsx("th",{className:"px-3 py-2",children:"Grand Total"}),e.jsx("th",{className:"px-3 py-2",children:"Status"}),e.jsx("th",{className:"px-3 py-2",children:"View"}),e.jsx("th",{className:"px-3 py-2 flex justify-end",children:"Delete"})]})}),e.jsx("tbody",{children:i.map((s,a)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-3",children:[i.length-a,"."," ",e.jsxs("span",{className:"font-semibold",children:["#",s.orderId]})]}),e.jsx("td",{className:"px-3 py-3",children:s.date}),e.jsx("td",{className:"px-3 py-3",children:s.name}),e.jsxs("td",{className:"px-3 py-3",children:[s.orders,"~",s.totalQuantity]}),e.jsx("td",{className:"px-3 py-3",children:s.amountSpent}),e.jsx("td",{className:"px-3 py-3",children:s.grandTotal}),e.jsx("td",{style:{color:d(s.status).color,backgroundColor:d(s.status).backgroundColor,display:"inline-block",maxWidth:"fit-content"},className:"px-3 py-1 my-4 rounded",children:s.status}),e.jsx("td",{className:"px-3 py-3",children:e.jsx("button",{className:"bg-slate-100 hover:bg-[#1e1d29] hover:text-white transition-all shadow-md p-3.5 rounded-full flex items-center justify-center",onClick:()=>h("/dashboard/orderDetails",{state:{order:s}}),children:e.jsx(C,{})})}),e.jsx("td",{className:"px-3 py-3 flex justify-end",children:e.jsx("button",{className:"bg-[#ff5a00] hover:bg-orange-600 transition-all text-white font-bold shadow-md p-3.5 rounded-full flex items-center justify-center",onClick:()=>p(s._id),children:e.jsx(v,{})})})]},s._id))})]})})]})};export{E as default};
