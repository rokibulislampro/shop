import{r as t,k as S,j as r,L as p}from"./index-B5pvZNP2.js";const I=()=>{const[n,x]=t.useState([]),[f,u]=t.useState(0),[h,g]=t.useState(!0),[v,b]=t.useState(!1),m=S(),d=t.useRef(null),i=t.useRef("transform 1s ease-in-out"),j=s=>{const e=s.map(a=>new Promise((c,o)=>{const l=new Image;l.src=a,l.onload=c,l.onerror=o}));return Promise.all(e)};t.useEffect(()=>{(async()=>{try{const a=(await m.get("/banner")).data.filter(o=>o.status==="Active").slice(0,3);if(a.length===0)throw new Error("No active banners found");const c=a.map(o=>o.image);await j(c),x(a)}catch(e){console.error("Error fetching banners:",e),b(!0)}finally{g(!1)}})()},[m]),t.useEffect(()=>{const s=()=>{d.current=setInterval(()=>{u(e=>e===n.length?(i.current="none",setTimeout(()=>{u(1),i.current="transform 1s ease-in-out"},50),0):e+1)},5e3)};if(n.length>0)return s(),()=>clearInterval(d.current)},[n]);const w=()=>r.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 flex justify-center mb-4",children:n.map((s,e)=>r.jsx("div",{className:`w-2 h-2 rounded-full mx-1.5 ${f===e?"bg-[#ff5a00]":"bg-[#1e1f29]"}`},e))});return h?r.jsx(p,{}):v?r.jsx(p,{}):r.jsxs("section",{className:"flex flex-col justify-center items-center relative",children:[r.jsx("div",{className:"slider-container relative w-full h-[250px] lg:h-[450px] overflow-hidden perspective-[1000px]",children:r.jsx("div",{className:"slider-inner",style:{transform:`rotateY(-${f*90}deg)`,transition:i.current,transformStyle:"preserve-3d",whiteSpace:"nowrap"},children:n.concat(n[0]).map((s,e)=>r.jsx("div",{className:"slider-item w-[100%] h-[300px] lg:h-[450px] inline-block absolute top-0 left-0",style:{backfaceVisibility:"hidden",transform:`rotateY(${e*90}deg) translateZ(500px)`},children:r.jsx("img",{src:s.image,alt:`Inactive Banner ${e}`,className:"w-[100%] h-full object-fill"})},e))})}),w()]})};export{I as default};
