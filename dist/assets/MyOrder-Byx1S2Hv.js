import{k as u,r as c,A as j,j as e,B as f}from"./index-B5pvZNP2.js";const N=()=>{const d=u(),[x,m]=c.useState([]),{user:r}=c.useContext(j),l=r==null?void 0:r.email;c.useEffect(()=>{(async()=>{if(l)try{const t=await d.get(`/order/${l}`);m(t.data)}catch(t){console.error("Error fetching orders:",t),f.error("Failed to load orders!")}})()},[d,l]);const o=s=>{switch(s){case"Pending":return 1;case"Processing":return 2;case"Shipped":return 3;case"Delivered":return 4;case"Canceled":return 4;default:return 0}};return e.jsxs("div",{className:"max-w-4xl mx-auto p-[0.5rem] bg-white shadow-md rounded-md",children:[e.jsx("h2",{className:"text-center text-xl font-semibold my-4",children:"ORDER PAGE"}),e.jsx("p",{className:"text-sm text-center text-gray-500 mb-6",children:"Delivery date is subject to change without advanced notice."}),x.map(s=>e.jsxs("div",{className:"mb-8 border rounded-md p-[0.5rem]",children:[e.jsxs("div",{className:"flex flex-wrap justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:"ORDER ID"}),e.jsxs("p",{className:"text-gray-500",children:["#",s.orderId]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:"ORDER PLACED"}),e.jsx("p",{className:"text-gray-500",children:s.orderDetails.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:"TOTAL"}),e.jsxs("p",{className:"text-gray-500",children:["à§³",s.orderDetails.grandTotal]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:"SHIP TO"}),e.jsx("p",{className:"text-gray-500",children:s.billingDetails.fullName})]})]}),e.jsxs("div",{className:"my-5",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("h3",{className:"font-semibold",children:["Order Status:"," ",e.jsx("span",{className:`text-sm ${s.orderDetails.status==="Delivered"?"text-green-500":s.orderDetails.status==="Canceled"?"text-[#ff5a00]":"text-blue-500"}`,children:s.orderDetails.status})," ",e.jsxs("span",{className:"text-xs",children:["(",s.orderDetails.updateDate,")"]})]})}),e.jsx("div",{className:"flex items-center justify-between",children:["Pending","Processing","Shipped","Delivered","Canceled"].map((t,i)=>{const h=o(s.orderDetails.status),n=i<h,a=s.orderDetails.status==="Canceled";return s.orderDetails.status,a&&t==="Delivered"||!a&&t==="Canceled"?null:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-0 my-2",children:[e.jsx("div",{className:`w-8 h-8 ${n?"bg-green-500":a&&t==="Canceled"?"bg-[#ff5a00]":"bg-gray-300"} text-white rounded-full flex items-center justify-center`,children:(n||a&&t==="Canceled")&&e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i<3&&e.jsx("div",{className:`h-1 w-12 md:w-16 ${n?"bg-green-500":"bg-gray-300"}`})]}),e.jsx("p",{className:"text-xs font-semibold text-start",children:t})]},i)})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-semibold",children:"Ordered Products:"}),e.jsx("ul",{children:s.orderDetails.products.map(t=>e.jsx("li",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.image,alt:"Product Photo",className:"w-16"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",t.quantity," | Price: ",t.price," ","BDT"]})]})]})},t.id))})]})]},s._id))]})};export{N as default};
