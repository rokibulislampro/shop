import{r as a,k as F,C as $,W as B,j as e,L as M,ao as g,ap as w,aq as O,d as N,B as o}from"./index-B5pvZNP2.js";import{S as E}from"./slick-theme-C9pjdZ6K.js";import{P as R}from"./ProductPopup-Cd_lrc5y.js";const z=({onClick:i})=>e.jsx("div",{className:"flex items-center text-[#ff5a00] justify-center w-10 h-10 hover:text-white bg-gray-100 hover:bg-[#ff5a00] rounded-full shadow-lg cursor-pointer transition-all",onClick:i,children:"❯"}),I=({onClick:i})=>e.jsx("div",{className:"flex items-center text-[#ff5a00] justify-center w-10 h-10 hover:text-white bg-gray-100 hover:bg-[#ff5a00] rounded-full shadow-lg cursor-pointer transition-all",onClick:i,children:"❮"}),G=()=>{const[i,y]=a.useState([]),[f,b]=a.useState({}),[m,c]=a.useState(null),[S,u]=a.useState(!0),j=F(),{cart:k,cartDispatch:d}=a.useContext($),{wishlistDispatch:C}=a.useContext(B);a.useEffect(()=>{(async()=>{try{const r=(await j.get("/product")).data.reverse();y(r),u(!1)}catch(s){console.error("Error fetching Products:",s),u(!1)}})()},[j]);const p=t=>{C({type:"ADD_TO_WISHLIST",product:{...t,id:t._id}}),b(s=>({...s,[t._id]:!0})),o.success(`${t.name} added to wishlist!`)},L=t=>{d({type:"Add",product:{...t,id:t._id}}),o.success(`${t.name} added to cart!`)},v=t=>{d({type:"Add",product:{...t,id:t._id,quantity:1}}),o.success("Proceeding to Checkout")},P=t=>{d({type:"Remove",id:t}),o.info("Item removed from cart.")},A=t=>k.some(s=>s.id===t),_={dots:!1,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:2}}]};return e.jsxs("section",{className:"m-[0.5rem] xl:mx-[10rem] overflow-x-hidden",children:[S?e.jsxs("div",{className:"flex justify-center items-center h-[300px]",children:[e.jsx(M,{})," "]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center my-3",children:[e.jsx("h2",{className:"text-2xl font-semibold uppercase",children:"New Products"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{onClick:()=>document.querySelector(".slick-prev").click()}),e.jsx(z,{onClick:()=>document.querySelector(".slick-next").click()})]})]}),e.jsx(E,{..._,children:i.map((t,s)=>e.jsx("div",{className:"w-full h-full p-0.5 md:p-3 group",children:e.jsxs("div",{className:"w-full h-auto rounded hover:rounded-none shadow-sm border hover:border-2 hover:border-[#ff5a00] p-2.5 transition-all hover:text-[#ff5a00] group relative",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute z-10 w-full flex justify-between items-start gap-1",children:[e.jsx("div",{className:"space-y-2 opacity-0 group-hover:opacity-100 transition-opacity",children:t.status!=="Out of Stock"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center",children:!f[t._id]&&e.jsx("div",{onClick:()=>p(t),children:e.jsx(g,{className:"cursor-pointer w-8 h-8 shadow-xl text-xl bg-white hover:bg-[#ff5a00] hover:text-white rounded-full p-2 transition-all"})})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(w,{className:"cursor-pointer w-8 h-8 shadow-xl text-xl bg-white hover:bg-[#ff5a00] hover:text-white rounded-full p-2 transition-all",onClick:()=>c(t)})})]})}),e.jsxs("div",{className:"md:flex items-center gap-1",children:[s<5&&e.jsx("p",{className:"hidden md:flex bg-[#ff5a00] text-center right-0 text-white text-xs md:text-md rounded-full px-2.5 p-0.5",children:"New"}),t.status==="Out of Stock"&&e.jsx("p",{className:"bg-[#ff5a00] text-center right-0 text-white text-xs md:text-md rounded-full px-2.5 p-0.5",children:"Stock Out"}),s<5&&e.jsx("p",{className:"md:hidden ml-auto w-fit bg-[#ff5a00] text-center right-0 text-white text-xs md:text-md rounded-full px-2.5 p-0.5 mt-0.5",children:"New"})]})]}),e.jsx("div",{className:"flex justify-center items-center overflow-hidden",children:e.jsx("img",{src:t.image,alt:t.name,className:"w-[300px] h-[135px] md:h-[250px] object-cover transition-transform duration-300 ease-in-out transform hover:scale-150 hover:cursor-zoom-in",style:{transformOrigin:"center"},onMouseMove:r=>{const{left:l,top:n,width:x,height:h}=r.target.getBoundingClientRect(),D=(r.clientX-l)/x*100,T=(r.clientY-n)/h*100;r.target.style.transformOrigin=`${D}% ${T}%`}})})]}),e.jsxs("div",{className:"w-full text-center my-3",children:[e.jsx("p",{className:"uppercase text-xs text-slate-500 hover:text-[#ff5a00]",children:t.category}),e.jsx("p",{className:"font-semibold text-[12px] md:text-[14px] uppercase text-gray-700 hover:text-[#ff5a00]",children:t.name}),e.jsx("div",{className:"flex justify-center items-center gap-2",children:t.discountPrice>0?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-xl font-semibold font-serif text-[#ff5a00]",children:["৳",t.discountPrice]}),e.jsx("p",{className:"font-serif text-slate-500",children:e.jsxs("s",{children:["৳",t.price]})})]}):e.jsxs("p",{className:"text-xl font-semibold font-serif text-[#ff5a00]",children:["৳",t.price]})}),e.jsxs("div",{className:"relative group",children:[e.jsx("hr",{className:`mt-4 ${t.status==="Available"?"group-hover:opacity-0":"opacity-100"}`}),t.rating>0&&e.jsx("div",{className:`absolute w-full flex justify-center items-center transform -translate-y-1/2 transition-opacity duration-300 ${t.status==="Available"?"group-hover:opacity-0":"opacity-100"}`,children:e.jsx("div",{className:"flex space-x-0",children:Array.from({length:5},(r,l)=>{const n=t.rating,x=l+1<=Math.floor(n),h=l+1>Math.floor(n)&&l<n;return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-[1.2rem] w-[1.2rem]",viewBox:"0 0 24 24",fill:"none",children:x?e.jsx("path",{fill:"#ff5a00",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}):h?e.jsxs("g",{children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`halfStar-${l}`,children:[e.jsx("stop",{offset:"50%",stopColor:"#ff5a00"}),e.jsx("stop",{offset:"50%",stopColor:"#D1D5DB"})]})}),e.jsx("path",{fill:`url(#halfStar-${l})`,d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})]}):e.jsx("path",{fill:"#D1D5DB",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})},l)})})})]})]}),e.jsxs("div",{className:"relative py-2.5",children:[e.jsxs("div",{className:`flex justify-center items-center gap-4 transition-all ${t.status==="Available"?"group-hover:opacity-0":""}`,children:[e.jsx("div",{className:"w-fit flex items-center hover:p-1 justify-center rounded-full hover:bg-[#ff5a00] hover:text-white transition-all",children:!f[t._id]&&e.jsx("div",{onClick:()=>p(t),children:e.jsx(g,{className:"cursor-pointer hover:p-1 text-xl transition-all"})})}),e.jsx(O,{}),e.jsx("div",{className:"w-fit flex items-center justify-center hover:p-1 rounded-full hover:bg-[#ff5a00] hover:text-white transition-all",children:e.jsx(w,{className:"cursor-pointer hover:p-1 text-xl transition-all",onClick:()=>c(t)})})]}),e.jsx("div",{className:"absolute w-full flex flex-col items-end opacity-0 group-hover:opacity-100 transition-opacity text-sm transform -translate-y-20 mt-4 md:mt-3",children:A(t._id)?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"text-center w-full h-8 md:h-9 rounded-full bg-orange-600 text-white font-semibold mt-2",onClick:()=>P(t._id),children:"Remove Item"}),e.jsx(N,{to:"/checkout",className:"w-full mt-1",children:e.jsx("button",{className:"w-full text-center bg-[#1e1f29] text-white font-semibold rounded-full h-8 md:h-9",onClick:()=>v(t),children:"Buy Now"})})]}):t.status!=="Out of Stock"&&t.slots>0?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"text-center w-full h-8 md:h-9 rounded-full bg-[#ff5a00] text-white font-semibold mt-2",onClick:()=>L(t),children:"Add To Cart"}),e.jsx(N,{to:"/checkout",className:"w-full mt-1",children:e.jsx("button",{className:"w-full text-center bg-[#1e1f29] text-white font-semibold rounded-full h-8 md:h-9",onClick:()=>v(t),children:"Buy Now"})})]}):null})]})]})},t._id))})]}),m&&e.jsx(R,{product:m,onClose:()=>c(null)})]})};export{G as default};
