import{r as c,k as p,j as e,ah as j,ai as u,aj as N}from"./index-B5pvZNP2.js";const b=()=>{const[n,d]=c.useState([]),[r,i]=c.useState(""),o=p();c.useEffect(()=>{(async()=>{try{const l=(await o.get("/product")).data.filter(a=>a.sold>=1).sort((a,m)=>m.sold-a.sold);d(l)}catch(t){console.error("Error fetching Sales:",t),toast.error("Failed to load Sales.")}})()},[o]);const h=n.filter(s=>{const t=s.name?s.name.toLowerCase():"",l=s.brand?s.brand.toLowerCase():"",a=s.sku?s.sku.toString():"";return t.includes(r.toLowerCase())||l.includes(r.toLowerCase())||a.includes(r)});function x(s){switch(s){case"Available":return{color:"#32CD32",backgroundColor:"rgba(50, 205, 50, 0)"};case"Out of Stock":return{color:"red",backgroundColor:"rgba(255, 0, 0, 0)"};default:return{color:"blue",backgroundColor:"rgba(0, 0, 255, 0)"}}}return e.jsx("section",{className:"container mx-auto px-[0.5rem] py-6 text-sm",children:e.jsxs("div",{className:"relative mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-3 text-gray-400",children:e.jsx(j,{})}),e.jsx("input",{type:"text",placeholder:"Search Sales by name, brand or SKU",className:"border p-2 pl-10 pr-10 rounded-full w-full border-slate-300",value:r,onChange:s=>i(s.target.value)}),e.jsxs("div",{className:"absolute right-3 top-3 flex items-center text-sm text-gray-400",children:[e.jsx(u,{className:"mr-1"}),e.jsx(N,{})]})]}),n.length>0?e.jsx("div",{className:"lg:overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto border-collapse",children:[e.jsx("thead",{className:"bg-slate-50 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-start",children:"Image"}),e.jsx("th",{className:"px-4 py-2 text-start",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-start",children:"Last Update"}),e.jsx("th",{className:"px-4 py-2 text-start",children:"Category"}),e.jsx("th",{className:"px-4 py-2 text-start",children:"SKU"}),e.jsx("th",{className:"px-4 py-2 text-start",children:"Brand"}),e.jsx("th",{className:"px-4 py-2 text-start",children:"Sold"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Discount Price"}),e.jsx("th",{className:"px-4 py-2 text-end",children:"Status"})]})}),e.jsx("tbody",{children:h.map((s,t)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-2 flex items-center gap-2",children:[t+1,"."," ",e.jsx("img",{src:s.image,alt:"Product",className:"w-16 h-16 rounded object-fill"})]}),e.jsx("td",{className:"px-4 py-2 text-start",children:s.name||"N/A"}),e.jsx("td",{className:"px-4 py-2 text-start",children:s.updateDate||"N/A"}),e.jsx("td",{className:"px-4 py-2 text-start",children:s.category||"N/A"}),e.jsx("td",{className:"px-4 py-2 text-start",children:s.sku||"N/A"}),e.jsx("td",{className:"px-4 py-2 text-start",children:s.brand||"N/A"}),e.jsx("td",{className:"px-4 py-2 text-start",children:s.sold||"N/A"}),e.jsxs("td",{className:"px-4 py-2 text-center",children:["à§³",s.discountPrice&&s.discountPrice>0?s.discountPrice:s.price]}),e.jsx("td",{className:"p-3 text-end",children:e.jsx("span",{style:{color:x(s.status).color,backgroundColor:x(s.status).backgroundColor,padding:"8px",borderRadius:"4px"},children:s.status||"N/A"})})]},s._id))})]})}):e.jsx("p",{children:"No sales Sales available"})]})})};export{b as default};
